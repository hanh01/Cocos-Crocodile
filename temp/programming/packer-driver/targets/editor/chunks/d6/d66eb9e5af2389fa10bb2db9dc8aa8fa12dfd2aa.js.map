{"version":3,"sources":["file:///Volumes/Data/GameSlots/GameMini/Crocodile/assets/scripts/Tooth.ts"],"names":["_decorator","Component","Node","size","tween","UITransform","AudioMgr","GameConfig","ccclass","property","Tooth","index","onLoad","reset","clickEvent","tooth","getComponent","to","TIME_CICK","contentSize","TOOTH_SZIE","width","TOOTH_HEIGTH_CLICK","start","touchEnd","e","console","log","inst","play","targetOff","on","EventType","TOUCH_END","bind","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAuBC,MAAAA,I,OAAAA,I;AAAqBC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,W,OAAAA,W;;AACrEC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,U,iBAAAA,U;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;;uBAGjBU,K,WADZF,OAAO,CAAC,OAAD,C,UAGHC,QAAQ,CAACP,IAAD,C,2BAHb,MACaQ,KADb,SAC2BT,SAD3B,CACqC;AAAA;AAAA;AAAA,eAC1BU,KAD0B,GACV,CAAC,CADS;;AAAA;AAAA;;AAIvBC,QAAAA,MAAM,GAAS;AACrB,eAAKC,KAAL;AACH;;AACDC,QAAAA,UAAU,CAACH,KAAD,EAAgB;AACtB,cAAIA,KAAK,IAAI,CAAC,CAAd,EAAiB;AACbP,YAAAA,KAAK,CAAC,KAAKW,KAAL,CAAWC,YAAX,CAAwBX,WAAxB,CAAD,CAAL,CAA4CY,EAA5C,CAA+C;AAAA;AAAA,0CAAWC,SAA1D,EAAqE;AACjEC,cAAAA,WAAW,EAAEhB,IAAI,CAAC;AAAA;AAAA,4CAAWiB,UAAX,CAAsBC,KAAvB,EAA8B;AAAA;AAAA,4CAAWC,kBAAzC;AADgD,aAArE,EAEGC,KAFH;AAGH,WAJD,MAIO;AACHnB,YAAAA,KAAK,CAAC,KAAKW,KAAL,CAAWC,YAAX,CAAwBX,WAAxB,CAAD,CAAL,CAA4CY,EAA5C,CAA+C;AAAA;AAAA,0CAAWC,SAA1D,EAAqE;AACjEC,cAAAA,WAAW,EAAEhB,IAAI,CAAC;AAAA;AAAA,4CAAWiB,UAAX,CAAsBC,KAAvB,EAA8B,GAA9B;AADgD,aAArE,EAEGE,KAFH;AAGH;AAEJ;;AAGDC,QAAAA,QAAQ,CAACC,CAAD,EAAgB;AACpBC,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhB,KAAjB;AACA;AAAA;AAAA,oCAASiB,IAAT,CAAcC,IAAd,CAAmB,cAAnB;AACA,eAAKd,KAAL,CAAWe,SAAX,CAAqB,IAArB,EAHoB,CAKpB;AACA;AACA;;AACA,eAAKhB,UAAL,CAAgB,KAAKH,KAArB;AACH;;AACDE,QAAAA,KAAK,GAAS;AACV,eAAKE,KAAL,CAAWgB,EAAX,CAAc7B,IAAI,CAAC8B,SAAL,CAAeC,SAA7B,EAAwC,KAAKT,QAAL,CAAcU,IAAd,CAAmB,IAAnB,CAAxC,EAAkE,IAAlE;AACH;;AACDX,QAAAA,KAAK,GAAG,CACP;;AAEDY,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAvCgC,O;;;;;iBAGV,I","sourcesContent":["import { _decorator, Component, EventTouch, Node, NodeEventType, size, tween, UITransform } from 'cc';\nimport { AudioMgr } from './AudioMgr';\nimport { GameConfig } from './Config';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Tooth')\nexport class Tooth extends Component {\n    public index: number = -1;\n    @property(Node)\n    readonly tooth: Node = null;\n    protected onLoad(): void {\n        this.reset();\n    }\n    clickEvent(index: number) {\n        if (index != -1) {\n            tween(this.tooth.getComponent(UITransform)).to(GameConfig.TIME_CICK, {\n                contentSize: size(GameConfig.TOOTH_SZIE.width, GameConfig.TOOTH_HEIGTH_CLICK)\n            }).start();\n        } else {\n            tween(this.tooth.getComponent(UITransform)).to(GameConfig.TIME_CICK, {\n                contentSize: size(GameConfig.TOOTH_SZIE.width, 154)\n            }).start();\n        }\n\n    }\n\n\n    touchEnd(e: EventTouch) {\n        console.log(this.index);\n        AudioMgr.inst.play(\"sounds/click\");\n        this.tooth.targetOff(this);\n\n        // tween(this.tooth.getComponent(UITransform)).to(GameConfig.TIME_CICK, {\n        //     contentSize: size(GameConfig.TOOTH_SZIE.width,GameConfig.TOOTH_HEIGTH_CLICK)\n        // }).call(() => this.clickEvent(this.index)).start();\n        this.clickEvent(this.index);\n    }\n    reset(): void {\n        this.tooth.on(Node.EventType.TOUCH_END, this.touchEnd.bind(this), this)\n    }\n    start() {\n    }\n\n    update(deltaTime: number) {\n\n    }\n}\n\n"]}